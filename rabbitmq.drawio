<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36 Edg/131.0.0.0" version="25.0.3" pages="2">
  <diagram id="2dVMEfP3hvcUbSW3eHFi" name="MQ概述">
    <mxGraphModel dx="1042" dy="535" grid="1" gridSize="18" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1654" pageHeight="2336" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="EJqIhGifLTvbeV28_dZ7-11" value="" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=north;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="302" y="192" width="223" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-2" value="" style="verticalLabelPosition=bottom;aspect=fixed;html=1;shape=mxgraph.salesforce.consumer_goods2;" vertex="1" parent="1">
          <mxGeometry x="540" y="72" width="60" height="60" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-3" value="" style="verticalLabelPosition=bottom;sketch=0;html=1;fillColor=#282828;strokeColor=none;verticalAlign=top;pointerEvents=1;align=center;shape=mxgraph.cisco_safe.technology_icons.icon17;" vertex="1" parent="1">
          <mxGeometry x="54" y="288" width="50" height="42.5" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-4" value="" style="verticalLabelPosition=bottom;sketch=0;html=1;fillColor=#282828;strokeColor=none;verticalAlign=top;pointerEvents=1;align=center;shape=mxgraph.cisco_safe.technology_icons.icon27;" vertex="1" parent="1">
          <mxGeometry x="450" y="36" width="50" height="35" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-5" value="" style="fillColor=#6ABD46;verticalLabelPosition=bottom;sketch=0;html=1;strokeColor=#ffffff;verticalAlign=top;align=center;points=[[0.145,0.145,0],[0.5,0,0],[0.855,0.145,0],[1,0.5,0],[0.855,0.855,0],[0.5,1,0],[0.145,0.855,0],[0,0.5,0]];pointerEvents=1;shape=mxgraph.cisco_safe.compositeIcon;bgIcon=ellipse;resIcon=mxgraph.cisco_safe.capability.remediate;" vertex="1" parent="1">
          <mxGeometry x="18" y="186" width="72" height="72" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-8" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.queue_generic" vertex="1" parent="1">
          <mxGeometry x="252" y="146" width="50" height="15" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-9" value="" style="sketch=0;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;fillColor=#505050;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;outlineConnect=0;align=center;shape=mxgraph.office.communications.queue_viewer;direction=east;" vertex="1" parent="1">
          <mxGeometry x="216" y="378" width="54" height="57" as="geometry" />
        </mxCell>
        <mxCell id="EJqIhGifLTvbeV28_dZ7-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="EJqIhGifLTvbeV28_dZ7-5" target="EJqIhGifLTvbeV28_dZ7-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
  <diagram name="第 1 页" id="O0XlU7D3TT2ablvjQjNK">
    <mxGraphModel dx="2137" dy="892" grid="0" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="0" pageScale="1" pageWidth="827" pageHeight="1169" background="none" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="0ygiKYfvKXlKuFppphzA-171" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="1046.5" y="5660" width="400" height="300" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-167" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="417.5" y="5660" width="642.5" height="300" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-165" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="-5" y="5660" width="425" height="300" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-68" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="696.5" y="3090" width="350" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-49" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="480" y="2850" width="270" height="200" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-1" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;A&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="20" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-2" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;B&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="680" y="170" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-3" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="190" y="120" width="420" height="170" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-4" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;msg1&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="480" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-6" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;msg2&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="340" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-7" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;msg3&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" parent="1" vertex="1">
          <mxGeometry x="200" y="175" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-12" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-8" target="jjH1Bkj64xPYJFFSmROb-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-8" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;A&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="110" y="650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-15" style="rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=1;entryY=0.25;entryDx=0;entryDy=0;edgeStyle=orthogonalEdgeStyle;elbow=vertical;curved=1;" parent="1" source="jjH1Bkj64xPYJFFSmROb-9" target="jjH1Bkj64xPYJFFSmROb-11" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="520" y="680" />
              <mxPoint x="520" y="395" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-9" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;B&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="560" y="650" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-135" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="jjH1Bkj64xPYJFFSmROb-10" target="0ygiKYfvKXlKuFppphzA-134">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-10" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;处理消息&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="667.5" y="4520" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-17" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;curved=1;exitX=0;exitY=0.25;exitDx=0;exitDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-11" target="jjH1Bkj64xPYJFFSmROb-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-11" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;MQ&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="310" y="330" width="120" height="260" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-13" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;调用B的API&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="350" y="650" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-14" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;msg&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" parent="1" vertex="1">
          <mxGeometry x="330" y="370" width="80" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-16" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;B处理完成后发送信息&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="520" y="500" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-18" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;处理消息&lt;/font&gt;&lt;/b&gt;" style="text;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="100" y="450" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-20" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="80" y="900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-27" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-21" target="jjH1Bkj64xPYJFFSmROb-24" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-28" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-21" target="jjH1Bkj64xPYJFFSmROb-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-29" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-21" target="jjH1Bkj64xPYJFFSmROb-26" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-21" value="队列" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="305" y="900" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-22" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-20" target="jjH1Bkj64xPYJFFSmROb-21" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发送大量消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="200" y="870" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-24" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者1&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="590" y="800" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-25" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者2&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="590" y="900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-26" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者3&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="590" y="1020" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-30" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;注意事项:一个消息只能被消费一次&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="280" y="1050" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-31" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="480" y="790" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-32" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="490" y="900" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-33" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="530" y="990" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-34" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;不同消费者之间是竞争关系&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="200" y="800" width="236" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-35" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;工作队列模式&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="335" y="760" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-36" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="55" y="1350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-37" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-40" target="jjH1Bkj64xPYJFFSmROb-43" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-40" target="jjH1Bkj64xPYJFFSmROb-44" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-40" target="jjH1Bkj64xPYJFFSmROb-45" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-40" value="队列" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="280" y="1350" width="195" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-41" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-36" target="jjH1Bkj64xPYJFFSmROb-40" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-42" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发送大量消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="175" y="1320" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-43" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者1&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="565" y="1250" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-44" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者2&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="565" y="1350" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-45" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者3&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="565" y="1470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-47" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="455" y="1240" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-48" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="465" y="1350" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-49" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;接收消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="505" y="1440" width="100" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-50" value="&lt;font color=&quot;#ff3333&quot; style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;不同消费者之间是竞争关系&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="175" y="1250" width="236" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-51" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;手动应答方式&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="310" y="1210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-52" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;手动应答方式的时候，没有被消费的消息会被重新放到队列&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontColor=#FF3333;" parent="1" vertex="1">
          <mxGeometry x="240" y="1520" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-53" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="55" y="1730" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-55" target="jjH1Bkj64xPYJFFSmROb-58" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-66" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-55" target="jjH1Bkj64xPYJFFSmROb-65" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="330" y="1930" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-55" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;交换机&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="1" vertex="1">
          <mxGeometry x="280" y="1694" width="120" height="146" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.003;entryY=0.455;entryDx=0;entryDy=0;entryPerimeter=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-53" target="jjH1Bkj64xPYJFFSmROb-55" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-63" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jjH1Bkj64xPYJFFSmROb-58" target="jjH1Bkj64xPYJFFSmROb-62" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="500" y="1727" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-60" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Routingkey&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="390" y="1734" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-61" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;绑定&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="465" y="1670" width="60" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-62" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="685" y="1737" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-64" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;一个队列中的消息只可以被消费一次&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="540" y="1694" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-68" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="jjH1Bkj64xPYJFFSmROb-65" target="jjH1Bkj64xPYJFFSmROb-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-65" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="ellipse;whiteSpace=wrap;html=1;aspect=fixed;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" vertex="1">
          <mxGeometry x="500" y="1890" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-67" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" parent="1" vertex="1">
          <mxGeometry x="685" y="1900" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-69" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;一个队列中的消息只可以被消费一次&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="560" y="1850" width="310" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-70" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;Routingkey&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="360" y="1880" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-71" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;当我们需要把一个消息让不同消费者消费的时候，我们可以绑定两个队列，给这两个队列发送相同信息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="20" y="1990" width="830" height="40" as="geometry" />
        </mxCell>
        <mxCell id="jjH1Bkj64xPYJFFSmROb-72" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发布订阅模式&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;resizable=0;points=[];autosize=1;strokeColor=none;fillColor=none;" parent="1" vertex="1">
          <mxGeometry x="75" y="1870" width="130" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-5">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="310" y="2220" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-5" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.user;strokeWidth=4;perimeterSpacing=4;" vertex="1" parent="1">
          <mxGeometry x="93" y="2170" width="94" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-6" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发起下单请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="195" y="2180" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-7" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;保存订单&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="320" y="2200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-18" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-9" target="0ygiKYfvKXlKuFppphzA-15">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-19" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-9" target="0ygiKYfvKXlKuFppphzA-16">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-20" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-9" target="0ygiKYfvKXlKuFppphzA-17">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-9" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;存到消息队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="532.5" y="2200" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-10" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-7" target="0ygiKYfvKXlKuFppphzA-9">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-11" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="605" y="2260" as="sourcePoint" />
            <mxPoint x="605.5" y="2370" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-13" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="360" y="2405" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-12" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;操作完成&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="550" y="2390" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-14" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;返回响应&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="228" y="2390" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-15" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新购物车&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="790" y="2100" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-16" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新库存&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="790" y="2200" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-17" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新积分&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="790" y="2310" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-21" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-22">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="297" y="2640" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-22" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.user;strokeWidth=4;perimeterSpacing=4;" vertex="1" parent="1">
          <mxGeometry x="80" y="2590" width="94" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-23" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发起下单请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="182" y="2600" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-38" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-24" target="0ygiKYfvKXlKuFppphzA-37">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-24" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;保存订单&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="307" y="2620" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-28" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;消息队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="720" y="2620" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-37" value="" style="shape=sumEllipse;perimeter=ellipsePerimeter;whiteSpace=wrap;html=1;backgroundOutline=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="540" y="2610" width="80" height="80" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-39" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;故障一:&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="420" y="2550" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-40" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-41">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="277" y="2910" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-41" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.user;strokeWidth=4;perimeterSpacing=4;" vertex="1" parent="1">
          <mxGeometry x="60" y="2860" width="94" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-42" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发起下单请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="162" y="2870" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-44" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;保存订单&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="287" y="2890" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-45" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;保存到消息队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="525" y="2890" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-47" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;故障二:消息队列宕机&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="370" y="2790" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-48" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-44" target="0ygiKYfvKXlKuFppphzA-45">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-50" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;一段时间以后，消息队列宕机&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="535" y="2980" width="170" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="319" y="3240" as="targetPoint" />
            <mxPoint x="200" y="3240" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-52" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.user;strokeWidth=4;perimeterSpacing=4;" vertex="1" parent="1">
          <mxGeometry x="93" y="3165" width="94" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-53" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发起下单请求&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="204" y="3200" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-54" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;保存订单&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="329" y="3220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-55" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-58" target="0ygiKYfvKXlKuFppphzA-64">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-56" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-58" target="0ygiKYfvKXlKuFppphzA-65">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-57" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-58" target="0ygiKYfvKXlKuFppphzA-66">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-58" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;存到消息队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="541.5" y="3220" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-59" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-54" target="0ygiKYfvKXlKuFppphzA-58">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-60" value="" style="shape=flexArrow;endArrow=classic;html=1;rounded=0;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="614" y="3280" as="sourcePoint" />
            <mxPoint x="614.5" y="3390" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-61" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-62">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="369" y="3425" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-62" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;操作完成&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="559" y="3410" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-63" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;返回响应&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="237" y="3410" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-64" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新购物车&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="830" y="3120" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-65" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新库存&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="830" y="3220" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-66" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新积分&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="830" y="3330" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-67" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;故障三:&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="425" y="3135" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-69" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;消费端出现宕机，抛异常等情况，导致业务功能丢失&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="3520" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-88" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;&amp;nbsp;&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" vertex="1" parent="1">
          <mxGeometry x="903.5" y="3640" width="350" height="360" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-89" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="526" y="3790" as="targetPoint" />
            <mxPoint x="407" y="3790" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-90" value="" style="sketch=0;aspect=fixed;pointerEvents=1;shadow=0;dashed=0;html=1;strokeColor=none;labelPosition=center;verticalLabelPosition=bottom;verticalAlign=top;align=center;fillColor=#00188D;shape=mxgraph.azure.user;strokeWidth=4;perimeterSpacing=4;" vertex="1" parent="1">
          <mxGeometry x="300" y="3715" width="94" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-91" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;发送消息&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="411" y="3750" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-110" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-92" target="0ygiKYfvKXlKuFppphzA-109">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-92" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;目标交换机&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="536" y="3770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-93" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-96" target="0ygiKYfvKXlKuFppphzA-102">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-94" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-96" target="0ygiKYfvKXlKuFppphzA-103">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-95" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-96" target="0ygiKYfvKXlKuFppphzA-104">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-96" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="748.5" y="3770" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-97" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-92" target="0ygiKYfvKXlKuFppphzA-96">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-102" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新购物车&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="1037" y="3670" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-103" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新库存&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="1037" y="3770" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-104" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;更新积分&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="1037" y="3880" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-105" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;绑定&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="636" y="3770" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-107" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="305" y="3830" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-108" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;消费者业务&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="990" y="3960" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-109" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;备份交换机&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="536" y="4060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-111" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;无法投递的消息会发送给备份交换机&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="600" y="3920" width="150" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-112" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;type=direct&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="540" y="3730" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-113" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;type=fanout&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="590" y="4020" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-118" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-114">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1040" y="4090" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-114" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="shape=cylinder3;whiteSpace=wrap;html=1;boundedLbl=1;backgroundOutline=1;size=15;direction=south;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="748.5" y="4060" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-115" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=1;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-109" target="0ygiKYfvKXlKuFppphzA-114">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-116" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;绑定&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="636" y="4060" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-119" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-117">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1106.5" y="4200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-117" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;消费者:记录&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad7ac;strokeColor=#b46504;" vertex="1" parent="1">
          <mxGeometry x="1046.5" y="4060" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-123" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-120" target="0ygiKYfvKXlKuFppphzA-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-120" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;本地消息表&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1041.5" y="4210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-121" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;更新&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1090" y="4140" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-122" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;0:未发送&lt;/b&gt;&lt;/font&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;1:发送成功&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;2:消费失败&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;&lt;div&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;3:消费成功&lt;/b&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="850" y="4210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-126" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-124" target="0ygiKYfvKXlKuFppphzA-122">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-128" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-124" target="0ygiKYfvKXlKuFppphzA-127">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-124" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;定时任务轮询检查消息发送状态&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="420" y="4210" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-127" target="0ygiKYfvKXlKuFppphzA-107">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-127" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;发现状态值是2&lt;/font&gt;&lt;/b&gt;" style="whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="310" y="4045" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-130" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;调用&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="340" y="3940" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-131" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;备份交换机原理&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="536" y="3660" width="330" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-133" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-132" target="jjH1Bkj64xPYJFFSmROb-10">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-132" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;消费者端接收消息&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="685" y="4400" width="155" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-137" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-134" target="0ygiKYfvKXlKuFppphzA-136">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-142" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-134" target="0ygiKYfvKXlKuFppphzA-141">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-134" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;处理结果&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="697.5" y="4640" width="130" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-140" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-136" target="0ygiKYfvKXlKuFppphzA-139">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-136" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;返回ACK消息&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="890" y="4665" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-138" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;成功&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="780" y="4650" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-139" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Broke删除消息&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="1080" y="4665" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-141" target="0ygiKYfvKXlKuFppphzA-145">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-141" value="&lt;b style=&quot;font-size: 16px;&quot;&gt;返回NACK消息&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d0cee2;strokeColor=#56517e;" vertex="1" parent="1">
          <mxGeometry x="667.5" y="4810" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-143" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;失败&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="750" y="4760" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-147" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-145" target="0ygiKYfvKXlKuFppphzA-146">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-153" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-145" target="0ygiKYfvKXlKuFppphzA-152">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-145" value="&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;放回队列&lt;/font&gt;&lt;/b&gt;" style="rhombus;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" vertex="1" parent="1">
          <mxGeometry x="697.5" y="4930" width="130" height="110" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-148" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-146" target="0ygiKYfvKXlKuFppphzA-132">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="550" y="4430" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-146" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;重新投递&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d80073;strokeColor=#A50040;fontColor=#ffffff;" vertex="1" parent="1">
          <mxGeometry x="490" y="4955" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-150" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;是&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="600" y="4955" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-151" value="&lt;font style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;否&lt;/b&gt;&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="806.5" y="5010" width="130" height="30" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-155" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-152" target="0ygiKYfvKXlKuFppphzA-154">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-152" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;Broke把消息标记成已发送&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#b1ddf0;strokeColor=#10739e;" vertex="1" parent="1">
          <mxGeometry x="672.5" y="5090" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-154" value="&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;b&gt;根据相关配置，把消息删除或者标记成死信&lt;/b&gt;&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#fad9d5;strokeColor=#ae4132;" vertex="1" parent="1">
          <mxGeometry x="667.5" y="5210" width="190" height="60" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-156" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;消息的可靠性保证：保证消息的传输不出现丢失的情况&lt;/font&gt;&lt;/b&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#d5e8d4;strokeColor=#82b366;direction=west;" vertex="1" parent="1">
          <mxGeometry x="10" y="5420" width="1248" height="100" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-157" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;RabbitMQ消息传输过程&lt;/font&gt;&lt;/b&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#dae8fc;strokeColor=#6c8ebf;" vertex="1" parent="1">
          <mxGeometry x="10" y="5550" width="570" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-166" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-159" target="0ygiKYfvKXlKuFppphzA-160">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-159" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/font&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="80" y="5730" width="130" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-164" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-160" target="0ygiKYfvKXlKuFppphzA-161">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-160" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;exchange&lt;/font&gt;&lt;/b&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="1">
          <mxGeometry x="417.5" y="5750" width="225" height="140" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-168" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-161">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1220" y="5820" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-161" value="&lt;b style=&quot;&quot;&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" vertex="1" parent="1">
          <mxGeometry x="866" y="5750" width="190" height="140" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-174" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;消费者&lt;/b&gt;&lt;/font&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="1210" y="5740" width="130" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-175" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;生产者发送消息阶段&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="16" y="5990" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-176" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;RabbitMQ存储消息阶段&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="571" y="5990" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-177" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;消费者消费消息阶段&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1130" y="6000" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-178" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;生产者发送消息阶段:交换机名字写错了，或者路由key写错了&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="-5" y="6060" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-179" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;RabbitMQ存储消息阶段:默认情况下，RabbitMQ存储消息是把消息存储在内存中的，当消费者消费消息之前，如果RabbitMQ服务器宕机了，内存就会是否，消息就会丢失&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="510" y="6090" width="418.5" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-180" value="&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;消费者消费消息阶段:消费获取到 消息以后，，会自动给rabbitmq的服务器发送一个ack标志，rabbitmq服务端就会把这个消息从队列删除掉。如果消费者获取到消息以后，在进行业务处理之前，rabbitmq服务器宕机了，就会导致消息丢失&lt;/b&gt;&lt;/span&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="1101" y="6120" width="348" height="70" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-182" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;生产者发送消息的时候保证消息不丢失:&lt;/font&gt;&lt;/b&gt;&lt;div&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;1.生产者确认机制:生产者可以知道消息是否发送正常给交换机&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;span style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;2.生产者回退机制:生产者可以知道消息是否正常投递给队列&lt;br&gt;&lt;/b&gt;&lt;/span&gt;&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;/div&gt;" style="shape=note;whiteSpace=wrap;html=1;backgroundOutline=1;darkOpacity=0.05;fillColor=#d5e8d4;strokeColor=#82b366;direction=west;" vertex="1" parent="1">
          <mxGeometry x="355.5" y="6393" width="719" height="147" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-187" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-185" target="0ygiKYfvKXlKuFppphzA-186">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-185" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/font&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="6693" width="130" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-191" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-186" target="0ygiKYfvKXlKuFppphzA-185">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="498" y="6995" />
              <mxPoint x="85" y="6995" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-186" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;exchange&lt;/font&gt;&lt;/b&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="385" y="6713" width="225" height="140" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-188" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-186" target="0ygiKYfvKXlKuFppphzA-185">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="498" y="6673" />
              <mxPoint x="85" y="6673" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-192" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;消息正常发送给交换机，rabbitmq服务端返回ack&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="127" y="6606" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-194" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;消息不能正常发送给交换机，rabbitmq服务端返回nack&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="102" y="6926" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-195" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-196" target="0ygiKYfvKXlKuFppphzA-198">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-196" value="&lt;font style=&quot;font-size: 24px;&quot;&gt;&lt;b&gt;生产者&lt;/b&gt;&lt;/font&gt;" style="shape=umlActor;verticalLabelPosition=bottom;verticalAlign=top;html=1;outlineConnect=0;" vertex="1" parent="1">
          <mxGeometry x="820" y="6707" width="130" height="180" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-203" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" edge="1" parent="1" source="0ygiKYfvKXlKuFppphzA-198" target="0ygiKYfvKXlKuFppphzA-202">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-198" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;exchange&lt;/font&gt;&lt;/b&gt;" style="shape=document;whiteSpace=wrap;html=1;boundedLbl=1;" vertex="1" parent="1">
          <mxGeometry x="1185" y="6727" width="225" height="140" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-200" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;消息投递给队列失败，rabbitmq服务端返回nack&lt;/font&gt;&lt;/b&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="990" y="6619" width="348" height="40" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-202" value="&lt;b&gt;&lt;font style=&quot;font-size: 24px;&quot;&gt;队列&lt;/font&gt;&lt;/b&gt;" style="rounded=0;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="1588" y="6725" width="179" height="142" as="geometry" />
        </mxCell>
        <mxCell id="0ygiKYfvKXlKuFppphzA-204" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;entryPerimeter=0;" edge="1" parent="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="1672.5" y="6727" as="sourcePoint" />
            <mxPoint x="880" y="6709" as="targetPoint" />
            <Array as="points">
              <mxPoint x="1673" y="6689" />
              <mxPoint x="880" y="6689" />
            </Array>
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
